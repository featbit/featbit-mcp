{
	"info": {
		"_postman_id": "featbit-mcp-server-tests",
		"name": "FeatBit MCP Server Tests",
		"description": "Test collection for FeatBit MCP Server using JSON-RPC 2.0 protocol",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "0. Initialize Session",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Extract session ID from response header",
							"var sessionId = pm.response.headers.get('Mcp-Session-Id');",
							"if (sessionId) {",
							"    pm.collectionVariables.set('sessionId', sessionId);",
							"    console.log('Session ID saved: ' + sessionId);",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 1,\n  \"method\": \"initialize\",\n  \"params\": {\n    \"protocolVersion\": \"2024-11-05\",\n    \"capabilities\": {},\n    \"clientInfo\": {\n      \"name\": \"postman-test\",\n      \"version\": \"1.0.0\"\n    }\n  }\n}"
				},
				"url": {
					"raw": "{{baseUrl}}",
					"host": [
						"{{baseUrl}}"
					]
				},
				"description": "Initialize MCP session - MUST run this first to get session ID"
			},
			"response": []
		},
		{
			"name": "1. List All Tools",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Mcp-Session-Id",
						"value": "{{sessionId}}",
						"description": "Session ID from initialize request"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 2,\n  \"method\": \"tools/list\",\n  \"params\": {}\n}"
				},
				"url": {
					"raw": "{{baseUrl}}",
					"host": [
						"{{baseUrl}}"
					]
				},
				"description": "List all available MCP tools on the server"
			},
			"response": []
		},
		{
			"name": "2. generate_integration_code - Full Guide",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Mcp-Session-Id",
						"value": "{{sessionId}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 3,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"generate_integration_code\",\n    \"arguments\": {\n      \"sdk\": \".net server sdk\",\n      \"topic\": \"full guide for asp.net core project\"\n    }\n  }\n}"
				},
				"url": {
					"raw": "{{baseUrl}}",
					"host": [
						"{{baseUrl}}"
					]
				},
				"description": "Generate complete integration guide for .NET Server SDK (all topics)"
			},
			"response": []
		},
		{
			"name": "3. generate_integration_code - Initialization",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Mcp-Session-Id",
						"value": "{{sessionId}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 4,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"generate_integration_code\",\n    \"arguments\": {\n      \"sdk\": \".net server sdk\",\n      \"topic\": \"initialization\"\n    }\n  }\n}"
				},
				"url": {
					"raw": "{{baseUrl}}",
					"host": [
						"{{baseUrl}}"
					]
				},
				"description": "Generate SDK initialization code example"
			},
			"response": []
		},
		{
			"name": "4. generate_integration_code - Flag Evaluation",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Mcp-Session-Id",
						"value": "{{sessionId}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 5,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"generate_integration_code\",\n    \"arguments\": {\n      \"sdk\": \".net server sdk\",\n      \"topic\": \"evaluation\"\n    }\n  }\n}"
				},
				"url": {
					"raw": "{{baseUrl}}",
					"host": [
						"{{baseUrl}}"
					]
				},
				"description": "Generate flag evaluation code examples"
			},
			"response": []
		},
		{
			"name": "5. generate_integration_code - User Management",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Mcp-Session-Id",
						"value": "{{sessionId}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 6,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"generate_integration_code\",\n    \"arguments\": {\n      \"sdk\": \".net server sdk\",\n      \"topic\": \"user management\"\n    }\n  }\n}"
				},
				"url": {
					"raw": "{{baseUrl}}",
					"host": [
						"{{baseUrl}}"
					]
				},
				"description": "Generate user management code examples"
			},
			"response": []
		},
		{
			"name": "6. generate_integration_code - Custom Properties",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Mcp-Session-Id",
						"value": "{{sessionId}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 7,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"generate_integration_code\",\n    \"arguments\": {\n      \"sdk\": \".net server sdk\",\n      \"topic\": \"custom properties\"\n    }\n  }\n}"
				},
				"url": {
					"raw": "{{baseUrl}}",
					"host": [
						"{{baseUrl}}"
					]
				},
				"description": "Generate custom properties code examples"
			},
			"response": []
		},
		{
			"name": "7. generate_integration_code - Event Tracking",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Mcp-Session-Id",
						"value": "{{sessionId}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 8,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"generate_integration_code\",\n    \"arguments\": {\n      \"sdk\": \".net server sdk\",\n      \"topic\": \"event tracking\"\n    }\n  }\n}"
				},
				"url": {
					"raw": "{{baseUrl}}",
					"host": [
						"{{baseUrl}}"
					]
				},
				"description": "Generate event tracking code examples"
			},
			"response": []
		},
		{
			"name": "8. get_random_number Tool",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Mcp-Session-Id",
						"value": "{{sessionId}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"jsonrpc\": \"2.0\",\n  \"id\": 9,\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"get_random_number\",\n    \"arguments\": {}\n  }\n}"
				},
				"url": {
					"raw": "{{baseUrl}}",
					"host": [
						"{{baseUrl}}"
					]
				},
				"description": "Test the GetRandomNumber tool"
			},
			"response": []
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "https://localhost:7180",
			"type": "string"
		},
		{
			"key": "sessionId",
			"value": "",
			"type": "string"
		}
	]
}
